# ============================================================
# Environment Variables Guide
# ============================================================
# This file documents ALL env vars and where they belong.
# DO NOT put actual values here - this is committed to git.
#
# Locations:
#   LOCAL  = .env.local.dev / .env.local.prod (auto-copied to .env.local)
#   CONVEX = Convex Dashboard > Settings > Environment Variables
#   EAS    = EAS Dashboard > Environment Variables (or eas env:create)
# ============================================================

# ============================================================
# LOCAL (.env.local.dev / .env.local.prod)
# ============================================================
# These are bundled into the app at build time.
# Run: npm run env:dev (or env:prod) to switch environments.

# Convex deployment (for npx convex dev)
CONVEX_DEPLOYMENT=dev:your-slug              # or prod:your-slug

# Convex URLs (different per environment)
EXPO_PUBLIC_CONVEX_URL=https://your-slug.convex.cloud
EXPO_PUBLIC_CONVEX_SITE_URL=https://your-slug.convex.site

# App deep link scheme
EXPO_PUBLIC_SITE_URL=expostarterapp://

# Stripe client (publishable key - safe to expose)
EXPO_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx   # or pk_live_xxx for prod
EXPO_PUBLIC_STRIPE_STARTER_MONTHLY_PRICE_ID=price_xxx
EXPO_PUBLIC_STRIPE_STARTER_ANNUAL_PRICE_ID=price_xxx
EXPO_PUBLIC_STRIPE_PLUS_MONTHLY_PRICE_ID=price_xxx
EXPO_PUBLIC_STRIPE_PLUS_ANNUAL_PRICE_ID=price_xxx
EXPO_PUBLIC_STRIPE_PRO_MONTHLY_PRICE_ID=price_xxx
EXPO_PUBLIC_STRIPE_PRO_ANNUAL_PRICE_ID=price_xxx

# ============================================================
# CONVEX (Dashboard > Settings > Environment Variables)
# ============================================================
# Server-side secrets - NEVER expose to client.
# Set separately for dev (amiable-seahorse-506) and prod (determined-civet-459).

# App
SITE_URL=expostarterapp://
SUPPORT_EMAIL=hello@example.com

# Push Notifications
EXPO_ACCESS_TOKEN=xxx                        # From expo.dev > Account > Access Tokens

# Better Auth
BETTER_AUTH_SECRET=xxx                       # openssl rand -base64 32

# Resend Email
RESEND_API_KEY=re_xxx                        # From resend.com
RESEND_FROM_EMAIL=sender@yourdomain.com      # Verified domain
RESEND_WEBHOOK_SECRET=whsec_xxx              # From Resend webhook settings

# Stripe (server-side)
STRIPE_SECRET_KEY=sk_test_xxx                # or sk_live_xxx for prod
STRIPE_WEBHOOK_SECRET=whsec_xxx              # From Stripe webhook settings
STRIPE_STARTER_MONTHLY_PRICE_ID=price_xxx
STRIPE_STARTER_ANNUAL_PRICE_ID=price_xxx
STRIPE_PLUS_MONTHLY_PRICE_ID=price_xxx
STRIPE_PLUS_ANNUAL_PRICE_ID=price_xxx
STRIPE_PRO_MONTHLY_PRICE_ID=price_xxx
STRIPE_PRO_ANNUAL_PRICE_ID=price_xxx

# ============================================================
# EAS (Dashboard > Environment Variables)
# ============================================================
# Used during EAS cloud builds.
# Set separately for development and production profiles.

# Convex auth for codegen (required for builds)
CONVEX_DEPLOY_KEY=prod:your-slug|xxx         # From Convex > Settings > Deploy Keys

# Same EXPO_PUBLIC_* vars as LOCAL section above
# EAS injects these at build time

# ============================================================
# Quick Setup
# ============================================================
#
# 1. Local dev:
#    npm install                    # Auto-creates .env.local from .env.local.dev
#    npm run convex                 # Start Convex dev server
#    npm run ios                    # Run app
#
# 2. Convex dashboard:
#    Copy values from .env.backup/env.convex_dev to Convex dev deployment
#    Copy values from .env.backup/env.convex_prod to Convex prod deployment
#
# 3. EAS builds:
#    Copy values from .env.backup/env.eas_prod to EAS production environment
#    Run: eas build --platform ios --profile production
#
# 4. Switch to prod backend locally:
#    npm run env:prod
#    npm run ios
